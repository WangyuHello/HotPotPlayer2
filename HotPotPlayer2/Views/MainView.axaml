<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:HotPotPlayer2.ViewModels"
		     xmlns:cont="using:HotPotPlayer2.Controls"
			 xmlns:local="using:HotPotPlayer2.Views"
             x:DataType="vm:MainWindowViewModel"
			 x:Name="Self"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="HotPotPlayer2.Views.MainView">
	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<!--<vm:MainWindowViewModel/>-->
	</Design.DataContext>

	<Grid x:Name="Root">
		<Grid x:Name="ContentRoot" ColumnDefinitions="64, *">
			<cont:MainSidebar SelectedPageName="{Binding SelectedPageName, Mode=TwoWay}"
							  IsBackEnable="{Binding IsBackEnable}"
							  OnBackClick="OnBackClick"
							  SelectedPageNameChanged="SelectedPageNameChanged"
							  />

			<TransitioningContentControl Grid.Column="1" Content="{Binding CurrentPage}" />
		</Grid>

		<cont:CurrentPlayListBar x:Name="CurrentPlayListBar" 
								 RenderTransform="translateX(400px)"
								 IsVisible="{Binding MusicPlayer.IsPlayListBarVisible}">
			<cont:CurrentPlayListBar.Transitions>
				<Transitions>
					<TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.4" Easing="QuinticEaseOut"/>
				</Transitions>
			</cont:CurrentPlayListBar.Transitions>

			<Interaction.Behaviors>
				<EventTriggerBehavior EventName="OnShow">
					<ChangePropertyAction TargetObject="{Binding #CurrentPlayListBar}" PropertyName="RenderTransform" Value="translateX(0px)" />
				</EventTriggerBehavior>
				<EventTriggerBehavior EventName="OnHide">
					<ChangePropertyAction TargetObject="{Binding #CurrentPlayListBar}" PropertyName="RenderTransform" Value="translateX(400px)" />
				</EventTriggerBehavior>
			</Interaction.Behaviors>
		</cont:CurrentPlayListBar>

		<cont:PlayBar x:Name="PlayBar"
					  VerticalAlignment="Bottom"
                      HorizontalAlignment="Stretch"
					  Margin="180,0,124,16"
					  Opacity="0"
					  RenderTransform="translateY(80px)"
					  >
			<cont:PlayBar.Transitions>
				<Transitions>
					<DoubleTransition Property="Opacity" Duration="0:0:0.8" Easing="QuarticEaseOut" />	
					<TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.8" Easing="QuarticEaseOut"/>
				</Transitions>
			</cont:PlayBar.Transitions>

			<Interaction.Behaviors>
				<EventTriggerBehavior EventName="OnShow">
					<ChangePropertyAction TargetObject="{Binding #PlayBar}" PropertyName="RenderTransform" Value="translateY(0px)" />
					<ChangePropertyAction TargetObject="{Binding #PlayBar}" PropertyName="Opacity" Value="1" />
				</EventTriggerBehavior>
				<EventTriggerBehavior EventName="OnHide">
					<ChangePropertyAction TargetObject="{Binding #PlayBar}" PropertyName="RenderTransform" Value="translateY(80px)" />
					<ChangePropertyAction TargetObject="{Binding #PlayBar}" PropertyName="Opacity" Value="0" />
				</EventTriggerBehavior>
			</Interaction.Behaviors>
		</cont:PlayBar>

		<cont:Toast x:Name="Toast" 
					VerticalAlignment="Top" 
					HorizontalAlignment="Stretch" 
					MaxWidth="480" Margin="240,40"
					RenderTransform="translateY(-250px)"
					>
			<cont:Toast.Transitions>
				<Transitions>
					<TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.4" Easing="BackEaseInOut"/>
				</Transitions>
			</cont:Toast.Transitions>

			<Interaction.Behaviors>
				<EventTriggerBehavior EventName="OnShow">
					<ChangePropertyAction TargetObject="{Binding #Toast}" PropertyName="RenderTransform" Value="translateY(0px)" />
				</EventTriggerBehavior>
				<EventTriggerBehavior EventName="OnHide">
					<ChangePropertyAction TargetObject="{Binding #Toast}" PropertyName="RenderTransform" Value="translateY(-250px)" />
				</EventTriggerBehavior>
			</Interaction.Behaviors>
		</cont:Toast>
	</Grid>
</UserControl>
